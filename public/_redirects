# Netlify Redirects Configuration
# Deep-link handling for RAY Restaurant Website
# Order matters: specific rules first, catch-all last

# Security headers
/*    X-Frame-Options: DENY
/*    X-XSS-Protection: 1; mode=block
/*    X-Content-Type-Options: nosniff
/*    Referrer-Policy: strict-origin-when-cross-origin
/*    Permissions-Policy: camera=(), microphone=(), geolocation=()

# Force HTTPS
http://rayapp.io/*    https://rayapp.io/:splat    301!
http://www.rayapp.io/*    https://rayapp.io/:splat    301!

# Canonical domain redirects (www to non-www)
https://www.rayapp.io/*    https://rayapp.io/:splat    301!

# Legacy domain redirects - PURGE OLD DOMAIN
https://rayrestaurant.com/*    https://rayapp.io/:splat    301!
https://www.rayrestaurant.com/*    https://rayapp.io/:splat    301!
http://rayrestaurant.com/*    https://rayapp.io/:splat    301!
http://www.rayrestaurant.com/*    https://rayapp.io/:splat    301!

# Trailing slash normalization (remove trailing slashes except root)
/*/    /:splat    301!

# Legacy URL redirects (add before SPA catch-all)
/products    /    301
/product    /    301
/success-stories    /case-studies    301
/testimonials    /case-studies    301
/blog    https://blogv2.rayapp.io/en/    301
/es    https://blogv2.rayapp.io/es/    301

# Case studies specific redirects
/case-study/*    /case-studies/:splat    301
/case-studies/temple-craft    /case-studies/temple-craft-wynwood    301
/case-studies/chimba    /case-studies/chimba-miami    301

# Product page redirects
/solutions/*    /product/:splat    301
/features/*    /product/:splat    301

# API endpoints (if any) - preserve as-is
/api/*    /api/:splat    200

# Static assets - serve with long cache headers
/images/*    /images/:splat    200
  Cache-Control: public, max-age=31536000, immutable
/fonts/*    /fonts/:splat    200
  Cache-Control: public, max-age=31536000, immutable
/assets/*    /assets/:splat    200
  Cache-Control: public, max-age=31536000, immutable

# SPA catch-all: serve index.html for all unmatched routes
# This must be last to avoid breaking specific redirects above
/*    /index.html    200