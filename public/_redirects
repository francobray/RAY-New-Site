# Netlify Redirects Configuration
# SPA Deep-link handling for RAY Restaurant Website
# Order matters: specific rules first, catch-all last

# Security and performance headers
/*    X-Frame-Options: DENY
/*    X-XSS-Protection: 1; mode=block
/*    X-Content-Type-Options: nosniff
/*    Referrer-Policy: strict-origin-when-cross-origin
/*    Permissions-Policy: camera=(), microphone=(), geolocation=()

# Legacy domain redirects - Force redirect old domains
https://rayrestaurant.com/*    https://rayapp.io/:splat    301!
https://www.rayrestaurant.com/*    https://rayapp.io/:splat    301!
http://rayrestaurant.com/*    https://rayapp.io/:splat    301!
http://www.rayrestaurant.com/*    https://rayapp.io/:splat    301!

# Canonical domain redirects (www to non-www)
https://www.rayapp.io/*    https://rayapp.io/:splat    301!
http://www.rayapp.io/*    https://rayapp.io/:splat    301!

# Force HTTPS
http://rayapp.io/*    https://rayapp.io/:splat    301!

# Trailing slash normalization (remove trailing slashes except root)
/*/    /:splat    301!

# Legacy URL redirects (specific paths before catch-all)
/products    /    301!
/product    /    301!
/success-stories    /case-studies    301!
/testimonials    /case-studies    301!
/blog    https://blog.rayapp.io/    301!
/es    https://blog.rayapp.io/es/    301!

# Case studies specific redirects
/case-study/*    /case-studies/:splat    301!
/case-studies/temple-craft    /case-studies/temple-craft-wynwood    301!
/case-studies/chimba    /case-studies/chimba-miami    301!

# Product page redirects
/solutions/*    /product/:splat    301!
/features/*    /product/:splat    301!

# API endpoints (if any) - preserve as-is
/api/*    /api/:splat    200

# Static assets - serve with proper headers
/images/*    /images/:splat    200
/fonts/*    /fonts/:splat    200
/assets/*    /assets/:splat    200
/*.js    /:splat    200
/*.css    /:splat    200
/*.ico    /:splat    200
/*.png    /:splat    200
/*.jpg    /:splat    200
/*.jpeg    /:splat    200
/*.gif    /:splat    200
/*.svg    /:splat    200
/*.webp    /:splat    200
/*.woff    /:splat    200
/*.woff2    /:splat    200
/*.ttf    /:splat    200
/*.eot    /:splat    200

# SPA catch-all: serve index.html for all unmatched routes
# This MUST be last to avoid breaking specific redirects above
/*    /index.html    200